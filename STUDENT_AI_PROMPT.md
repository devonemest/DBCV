# –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–î–∏—Å–∫–ª–µ–π–º–µ—Ä)

**–ú—ã –Ω–∞—á–∏–Ω–∞–µ–º —Ç—Ä–µ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.**

–í–∞–º –±—É–¥–µ—Ç –¥–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–≤–∞–π–±–∫–æ–¥–∏–Ω–≥** (AI-–∞—Å—Å–∏—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ) –∏ **–ò–ò-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–ª–æ–∂–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:**

- üéØ **–í—ã –±—É–¥–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å AI** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –¥–∞–∂–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è!
- ü§ñ **AI –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥ –∑–∞ –≤–∞—Å** - –≤—ã –±—É–¥–µ—Ç–µ –¥–∞–≤–∞—Ç—å –µ–º—É –∑–∞–¥–∞–Ω–∏—è (–ø—Ä–æ–º–ø—Ç—ã), –∞ –æ–Ω –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.
- üìö **–í—ã –±—É–¥–µ—Ç–µ —É—á–∏—Ç—å—Å—è** - –¥–∞–∂–µ –µ—Å–ª–∏ AI –ø–∏—à–µ—Ç –∫–æ–¥, –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç.
- ‚úÖ **–í–∞—à–∞ –∑–∞–¥–∞—á–∞** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ AI, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏.

**–≠—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤—ã "–æ–±–º–∞–Ω—ã–≤–∞–µ—Ç–µ"** - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!

**–ï—Å–ª–∏ –≤—ã –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ —á—Ç–æ-—Ç–æ** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ß–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –∏–∑—É—á–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã.

---

## –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–º–ø—Ç?** –ü—Ä–æ–º–ø—Ç - —ç—Ç–æ –∑–∞–ø—Ä–æ—Å –∫ AI –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç:**
1. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –¥–ª—è –≤–∞—à–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (Cursor, ChatGPT, Claude –∏ —Ç.–¥.)
4. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –æ—Ç AI
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–ö–∞–∫–∏–µ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ **Cursor** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - https://cursor.sh
- ‚úÖ **Codex** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ ChatGPT –¥–ª—è VS Code
- ‚úÖ **ChatGPT** - https://chat.openai.com (–±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ CLI)
- ‚úÖ **Claude** - https://claude.ai (–±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ CLI)
- ‚úÖ **GitHub Copilot** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è VS Code (–µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- ‚úÖ **Codeium** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Copilot
- ‚úÖ **–õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ** AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏ (ChatGPT, Claude, Copilot –∏ –¥—Ä.) –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ DBCV.

## –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω

```
–¢—ã –ø–æ–º–æ–≥–∞–µ—à—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã DBCV.

–ö–û–ù–¢–ï–ö–°–¢:
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ DBCV - —ç—Ç–æ NoCode/LowCode —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–æ—Ç–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–Ω—É—Ç—Ä–∏ backend –∫–æ–¥–∞
- –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç BaseIntegration
- Credentials –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CredentialsResolver

–ó–ê–î–ê–ß–ê:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: {–ù–ê–ó–í–ê–ù–ò–ï_–ò–ù–¢–ï–ì–†–ê–¶–ò–ò}

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å {Service}{Action}Integration, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π BaseIntegration
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É {–ë–ò–ë–õ–ò–û–¢–ï–ö–ê} –≤–µ—Ä—Å–∏–∏ {–í–ï–†–°–ò–Ø}
3. –ú–µ—Ç–æ–¥ execute() –¥–æ–ª–∂–µ–Ω:
   - –ü–æ–ª—É—á–∞—Ç—å credentials —á–µ—Ä–µ–∑ credentials_resolver.get_default_for()
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ —á–µ—Ä–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å—ã)
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ {"response": {"ok": True, "result": {...}}}
4. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å:
   - id: "{service}_{action}"
   - version: "1.0.0"
   - category: "{category}"
   - icon_s3_key: "icons/integrations/{service}.svg"
   - config_schema: JSON Schema –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - credentials_provider: "{service}"
   - credentials_strategy: "api_key" –∏–ª–∏ "oauth"
   - library_name: "{library}"
5. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ examples

–ü–†–ò–ú–ï–†–´:
- –°–º. backend/app/integrations/telegram/send_message.py
- –°–º. backend/app/integrations/README.md
- –°–º. backend/app/integrations/SAFE_LIBRARIES.md

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê:
{–û–ü–ò–°–ê–ù–ò–ï_–ë–ò–ë–õ–ò–û–¢–ï–ö–ò_–ò_–ï–ï_–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø}

–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
{–°–ü–ò–°–û–ö_–ü–ê–†–ê–ú–ï–¢–†–û–í_–°_–û–ü–ò–°–ê–ù–ò–ï–ú}

–†–ï–ó–£–õ–¨–¢–ê–¢:
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª backend/app/integrations/{service}/{action}.py —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

### 1. Telegram Get Updates

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Telegram Get Updates

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: python-telegram-bot>=20.0
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï: 
from telegram import Bot
from telegram.error import TelegramError

bot = Bot(token=creds["bot_token"])
updates = await bot.get_updates(offset=offset, limit=limit)

–ü–ê–†–ê–ú–ï–¢–†–´:
- offset (int, optional): Offset –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- limit (int, optional): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)

CREDENTIALS:
- provider: "telegram"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "bot_token"

–†–ï–ó–£–õ–¨–¢–ê–¢:
–í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
{
  "response": {
    "ok": True,
    "result": {
      "updates": [...],
      "count": 10
    }
  }
}

–û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö:
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å TelegramError
- –í–µ—Ä–Ω—É—Ç—å {"response": {"ok": False, "error_code": 400, "description": "..."}}
```

### 2. Telegram Send Photo

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Telegram Send Photo

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: python-telegram-bot>=20.0
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
from telegram import Bot
from telegram.error import TelegramError

bot = Bot(token=creds["bot_token"])
message = await bot.send_photo(
    chat_id=chat_id,
    photo=photo,  # –º–æ–∂–µ—Ç –±—ã—Ç—å file_id, URL –∏–ª–∏ file object
    caption=caption,
    parse_mode=parse_mode
)

–ü–ê–†–ê–ú–ï–¢–†–´:
- chat_id (string, required): ID —á–∞—Ç–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- photo (string, required): file_id, URL –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- caption (string, optional): –ü–æ–¥–ø–∏—Å—å –∫ —Ñ–æ—Ç–æ
- parse_mode (string, optional): "HTML", "Markdown" –∏–ª–∏ "MarkdownV2"

CREDENTIALS:
- provider: "telegram"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "bot_token"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "message_id": 123,
      "chat": {...},
      "photo": [...]
    }
  }
}
```

### 3. OpenAI Chat Completion

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: OpenAI Chat Completion

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: openai>=1.0.0
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
from openai import OpenAI
from openai import OpenAIError

client = OpenAI(api_key=creds["api_key"])
response = await client.chat.completions.create(
    model=model,
    messages=messages,
    temperature=temperature,
    max_tokens=max_tokens
)

–ü–ê–†–ê–ú–ï–¢–†–´:
- model (string, required): ID –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "gpt-4", "gpt-3.5-turbo")
- messages (array, required): –ú–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ [{"role": "user", "content": "..."}]
- temperature (float, optional): –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0-2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- max_tokens (int, optional): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤

CREDENTIALS:
- provider: "openai"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "api_key"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "choices": [...],
      "usage": {...}
    }
  }
}
```

### 4. Discord Send Message

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Discord Send Message

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: discord.py>=2.3.0
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
import discord
from discord import Webhook

webhook = Webhook.from_url(webhook_url, client=discord.Client())
await webhook.send(content=content, username=username)

–ü–ê–†–ê–ú–ï–¢–†–´:
- webhook_url (string, required): URL Discord webhook
- content (string, required): –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- username (string, optional): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è webhook

CREDENTIALS:
- provider: "discord"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "webhook_url"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "id": "...",
      "content": "..."
    }
  }
}
```

### 5. Google Sheets Read (—á–µ—Ä–µ–∑ httpx)

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Google Sheets Read

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: httpx (–¥–ª—è –ø—Ä—è–º—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Google Sheets API)
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
import httpx

async with httpx.AsyncClient() as client:
    response = await client.get(
        f"https://sheets.googleapis.com/v4/spreadsheets/{spreadsheet_id}/values/{range}",
        headers={"Authorization": f"Bearer {access_token}"}
    )

–ü–ê–†–ê–ú–ï–¢–†–´:
- spreadsheet_id (string, required): ID —Ç–∞–±–ª–∏—Ü—ã Google Sheets
- range (string, required): –î–∏–∞–ø–∞–∑–æ–Ω —è—á–µ–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Sheet1!A1:B10")
- access_token (string, required): OAuth —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

CREDENTIALS:
- provider: "google"
- strategy: "oauth"
- –ø–æ–ª–µ –≤ payload: "access_token"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "values": [[...], [...]],
      "range": "..."
    }
  }
}
```

### 6. Stripe Create Payment

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Stripe Create Payment

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: stripe>=7.0.0
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
import stripe
from stripe.error import StripeError

stripe.api_key = creds["api_key"]
payment_intent = stripe.PaymentIntent.create(
    amount=amount,
    currency=currency,
    payment_method=payment_method_id
)

–ü–ê–†–ê–ú–ï–¢–†–´:
- amount (int, required): –°—É–º–º–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000 = $10.00)
- currency (string, required): –í–∞–ª—é—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "usd", "rub")
- payment_method_id (string, optional): ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã
- description (string, optional): –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞

CREDENTIALS:
- provider: "stripe"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "api_key"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "id": "pi_...",
      "status": "succeeded",
      "amount": 1000
    }
  }
}
```

### 7. AmoCRM Create Contact (—á–µ—Ä–µ–∑ httpx)

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: AmoCRM Create Contact

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: httpx (–¥–ª—è –ø—Ä—è–º—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AmoCRM API)
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
import httpx

async with httpx.AsyncClient() as client:
    # –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å access_token —á–µ—Ä–µ–∑ OAuth
    token_response = await client.post(
        "https://{subdomain}.amocrm.ru/oauth2/access_token",
        json={
            "client_id": client_id,
            "client_secret": client_secret,
            "grant_type": "authorization_code",
            "code": code,
            "redirect_uri": redirect_uri
        }
    )
    
    # –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
    response = await client.post(
        f"https://{subdomain}.amocrm.ru/api/v4/contacts",
        headers={"Authorization": f"Bearer {access_token}"},
        json=[{
            "name": name,
            "custom_fields_values": custom_fields
        }]
    )

–ü–ê–†–ê–ú–ï–¢–†–´:
- subdomain (string, required): –ü–æ–¥–¥–æ–º–µ–Ω AmoCRM
- name (string, required): –ò–º—è –∫–æ–Ω—Ç–∞–∫—Ç–∞
- custom_fields (array, optional): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

CREDENTIALS:
- provider: "amocrm"
- strategy: "oauth"
- –ø–æ–ª—è –≤ payload: "client_id", "client_secret", "access_token", "refresh_token"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "id": 12345,
      "name": "..."
    }
  }
}
```

### 8. Yandex Translate Text (—á–µ—Ä–µ–∑ httpx)

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: Yandex Translate Text

–ë–ò–ë–õ–ò–û–¢–ï–ö–ê: httpx (–¥–ª—è –ø—Ä—è–º—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Yandex Translate API)
–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
import httpx

async with httpx.AsyncClient() as client:
    response = await client.post(
        "https://translate.yandex.net/api/v1.5/tr.json/translate",
        params={
            "key": api_key,
            "text": text,
            "lang": lang
        }
    )

–ü–ê–†–ê–ú–ï–¢–†–´:
- text (string, required): –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
- lang (string, required): –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "en-ru", "ru-en")
- api_key (string, required): API –∫–ª—é—á Yandex Translate

CREDENTIALS:
- provider: "yandex_cloud"
- strategy: "api_key"
- –ø–æ–ª–µ –≤ payload: "api_key"

–†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "response": {
    "ok": True,
    "result": {
      "text": ["–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"],
      "lang": "en-ru"
    }
  }
}
```

---

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–æ–º–ø—Ç–æ–≤

### 1. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É

- –ó–∞–º–µ–Ω–∏—Ç–µ `{–ù–ê–ó–í–ê–ù–ò–ï_–ò–ù–¢–ï–ì–†–ê–¶–ò–ò}` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- –£–∫–∞–∂–∏—Ç–µ —Ç–æ—á–Ω—É—é –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ `SAFE_LIBRARIES.md`
- –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `BaseIntegration`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

### 3. –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –∫–æ–¥ –Ω–µ –∏–¥–µ–∞–ª–µ–Ω:

1. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –Ω–µ–π—Ä–æ—Å–µ—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
2. –£–∫–∞–∂–∏—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä –∏–∑ `telegram/send_message.py`
3. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —á–∞—Å—Ç–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç.–¥.)

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–º–ø—Ç:

```
–ö–û–ù–¢–ï–ö–°–¢ –ü–†–û–ï–ö–¢–ê:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞: backend/app/integrations/{service}/{action}.py
- –ü—Ä–∏–º–µ—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: backend/app/integrations/telegram/send_message.py
- –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å: backend/app/integrations/base.py
- –†–µ–µ—Å—Ç—Ä: backend/app/integrations/registry.py
```

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

### –û—à–∏–±–∫–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ credentials

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
creds = credentials_resolver.get_default_for(...)  # —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
creds = await credentials_resolver.get_default_for(...)  # –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
```

### –û—à–∏–±–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
return {"ok": True, "result": {...}}
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
return {"response": {"ok": True, "result": {...}}}
```

### –û—à–∏–±–∫–∞ 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
result = await client.method()
return {"response": {"ok": True, "result": result}}
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
try:
    result = await client.method()
    return {"response": {"ok": True, "result": result}}
except LibraryError as e:
    await logger.error(f"Error: {e}")
    return {"response": {"ok": False, "error_code": 500, "description": str(e)}}
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º](../backend/app/integrations/README.md)
- [–°–ø–∏—Å–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫](../backend/app/integrations/SAFE_LIBRARIES.md)
- [–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Telegram](../backend/app/integrations/telegram/send_message.py)
- [–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π](../backend/app/integrations/base.py)

---

**–£–¥–∞—á–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

